(this["webpackJsonpaudio-repo"]=this["webpackJsonpaudio-repo"]||[]).push([[0],{166:function(e,a,t){},167:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(26),c=t.n(r),o=t(13),m=t(6),i=t(17),s=t(11),u=t.n(s),d=t(172),E=function(e){var a=e.item,t=a.title,n=a.minister,r=a.size,c=a.day,o=a.month,m=a.year,i=(a.link,a.fileId);return l.a.createElement("div",{className:"item"},l.a.createElement("div",{className:"date"},u()("".concat(m,"/").concat(o,"/").concat(c)).format("dddd, Do MMM")),l.a.createElement("div",{className:"title"},t),l.a.createElement("div",{className:"minister"},n),l.a.createElement("div",{className:"bottom-section"},l.a.createElement("div",{className:"size"},"~ ",r,"MB"),l.a.createElement("div",null,l.a.createElement("a",{className:"download",href:"https://drive.google.com/uc?export=download&id=".concat(i),download:!0},l.a.createElement(d.a,{style:{fontSize:24}})))))},v=t(175),f=t(176),p=Object(m.f)((function(e){return l.a.createElement("div",{className:"search ".concat(e.open)},l.a.createElement("div",null,l.a.createElement("a",{onClick:function(){return e.close()}},l.a.createElement(f.a,null))),l.a.createElement("div",{className:"instruction"},"Choose the year and month of the message you want"),l.a.createElement("div",null,l.a.createElement("div",null,"Year"),l.a.createElement("div",null,l.a.createElement("select",{className:"select-style",onChange:function(a){return e.setyear(a.target.value)}},l.a.createElement("option",{value:"2019",selected:"2019"===e.year},"2019"),l.a.createElement("option",{value:"2020",selected:"2020"===e.year},"2020")))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("div",null,"Month"),l.a.createElement("div",{className:"month-rack"},h.map((function(a,t){return l.a.createElement("div",{key:a.name,style:{backgroundColor:a.color},onClick:function(){return e.history.push("/".concat(t+1,"/").concat(e.year))}},l.a.createElement("div",null,a.name))})))))})),h=[{name:"Jan",color:"#ffd59a"},{name:"Feb",color:"#bb97c6"},{name:"Mar",color:"#bce5df"},{name:"Apr",color:"#DA4A52"},{name:"May",color:"#7bb661"},{name:"Jun",color:"#FFD858"},{name:"Jul",color:"#df9e8e"},{name:"Aug",color:"#FDB813"},{name:"Sep",color:"#5265B0"},{name:"Oct",color:"#2a52be"},{name:"Nov",color:"#7f1734"},{name:"Dec",color:"#128191"}];var y=Object(m.f)((function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],c=t[1],m=e.match.params;return l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement("div",null),l.a.createElement(o.b,{to:"/how-to-use",className:"text-decoration-none"}),l.a.createElement("div",null,l.a.createElement("a",{onClick:function(){return c(!0)}},l.a.createElement(v.a,null)),l.a.createElement(p,{year:e.year,setyear:e.setyear,open:r?"open":"",close:function(){return c(!1)}}))),l.a.createElement("div",null,l.a.createElement("div",{className:"year"},m.year),l.a.createElement("div",{className:"month"},m.month&&u()(m.month,"MM").format("MMMM"))))})),b=t(174),g=function(){return l.a.createElement("div",{className:"empty"},l.a.createElement("div",null,l.a.createElement(b.a,null),l.a.createElement("div",null,"No available message")))},N=t(173),j=function(e){return e.loading?(Object(n.useEffect)((function(){document.body.classList.add("body-no-overflow")})),l.a.createElement("div",{className:"loading"},l.a.createElement("div",null,l.a.createElement(N.a,null),l.a.createElement("div",null,"getting messages...")))):(Object(n.useEffect)((function(){document.body.classList.remove("body-no-overflow")})),null)},O=t(29),w=t.n(O),M=t(53),C=t(74),k=t.n(C).a.create({baseURL:"http://church-api.mrcally.com"}),x=function(){var e=Object(M.a)(w.a.mark((function e(a,t,n,l){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,k.get("/archive",{params:{month:a,year:t}});case 4:200===(r=e.sent).status?(l(r.data.data),n(!1)):n(!1),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),n(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n,l){return e.apply(this,arguments)}}(),S=function(){var e=Object(M.a)(w.a.mark((function e(a,t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,e.next=4,k.post("/add-to-archive",a);case 4:200===e.sent.status?n():(t(!1),alert("Upload failed. Try it again")),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),t(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n){return e.apply(this,arguments)}}();var D=Object(m.f)((function(e){var a=e.match.params,t=Object(n.useState)(u()().format("YYYY")),r=Object(i.a)(t,2),c=r[0],o=r[1],m=Object(n.useState)(!1),s=Object(i.a)(m,2),d=s[0],v=s[1],f=Object(n.useState)([]),p=Object(i.a)(f,2),h=p[0],b=p[1];return Object(n.useEffect)((function(){a.month&&a.year?x(a.month,a.year,v,b):e.history.push("/".concat(u()().format("M"),"/").concat(c))}),[a]),l.a.createElement("div",null,l.a.createElement(j,{loading:d}),l.a.createElement(y,{year:c,setyear:o}),l.a.createElement("div",{className:"results-wrapper"},l.a.createElement("div",{className:"results"},l.a.createElement("div",null,h.length>0?h.map((function(e){return l.a.createElement(E,{key:e.id,item:e})})):l.a.createElement(g,null)))),l.a.createElement("div",{className:"footer"},l.a.createElement("div",null,l.a.createElement("a",{href:"/"},"Terms of use")),l.a.createElement("div",null,l.a.createElement("a",{href:"/"},"About"))))})),Y=t(32),q=t(54),z=t(75),A=t.n(z),F=Object(m.f)((function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],c=t[1],o=Object(n.useState)({}),m=Object(i.a)(o,2),s=m[0],d=m[1],E=Object(n.useState)(new Date),v=Object(i.a)(E,2),f=v[0],p=v[1];function h(e){var a=e.target,t=a.name,n=a.value;d(Object(q.a)({},s,Object(Y.a)({},t,n)))}return l.a.createElement("div",{style:{minHeight:"100vh"}},l.a.createElement(j,{loading:r}),l.a.createElement("div",{className:"add-wrapper"},l.a.createElement("div",{className:"upload-main"},l.a.createElement("div",{className:"upload-a-message"},"Upload a message"),l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t=Object(q.a)({},s,{day:u()(f).format("D"),month:u()(f).format("M"),year:u()(f).format("YYYY")});S(t,c,(function(){return e.history.push("/add-to-archive/success")}))}},l.a.createElement("div",{className:"entry"},l.a.createElement("div",null,"Title of message"),l.a.createElement("div",null,l.a.createElement("input",{required:!0,autoComplete:"off",name:"title",onChange:h}))),l.a.createElement("div",{className:"entry"},l.a.createElement("div",null,"Minister"),l.a.createElement("div",null,l.a.createElement("input",{required:!0,autoComplete:"off",name:"minister",onChange:h}))),l.a.createElement("div",{className:"entry"},l.a.createElement("div",null,"File ID"),l.a.createElement("div",null,l.a.createElement("input",{required:!0,autoComplete:"off",name:"fileId",onChange:h}))),l.a.createElement("div",{className:"entry"},l.a.createElement("div",null,"Google Drive Link"),l.a.createElement("div",null,l.a.createElement("input",{required:!0,autoComplete:"off",name:"link",onChange:h}))),l.a.createElement("div",{className:"entry"},l.a.createElement("div",null,"Date of message"),l.a.createElement("div",null,l.a.createElement(A.a,{required:!0,selected:f,dateFormat:"dd MMM yyyy",onChange:function(e){return p(e)}}))),l.a.createElement("div",{className:"entry"},l.a.createElement("div",null,"Size"),l.a.createElement("div",null,l.a.createElement("input",{required:!0,placeholder:"Eg: 10.83",autoComplete:"off",name:"size",onChange:h}))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"upload"},"Submit"))))))})),B=function(){return l.a.createElement("div",{style:{minHeight:"100vh",textAlign:"center"}},l.a.createElement("div",null,l.a.createElement("div",{style:{marginTop:50,fontSize:36,fontWeight:600,marginBottom:20}},"Successfully uploaded"),l.a.createElement("div",{className:"flex justify-center"},l.a.createElement(o.b,{className:"text-decoration-none",to:"/add-to-archive"},"New upload"),l.a.createElement("div",{className:"w2"}),l.a.createElement(o.b,{className:"text-decoration-none",to:"/"},"Homepage"))))};t(165),t(166);function J(){return l.a.createElement(o.a,null,l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"/add-to-archive",exact:!0,component:F}),l.a.createElement(m.a,{path:"/add-to-archive/success",exact:!0,component:B}),l.a.createElement(m.a,{path:"/:month/:year",exact:!0,component:D}),l.a.createElement(m.a,{path:"*",component:D})))}c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(J,null)),document.getElementById("root"))},78:function(e,a,t){e.exports=t(167)}},[[78,1,2]]]);
//# sourceMappingURL=main.95fe7365.chunk.js.map